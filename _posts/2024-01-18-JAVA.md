---
layout : single
title : JAVA
categories : Language
tag : JAVA
toc : true
toc_sticky: true 
author_profile : false
sidebar:
    nav : "counts"
---


## Install JAVA

1. jdk 설치 
2. 터미널
3. ~/.zshrc 에서

export JAVA_HOME="/Library/Java/JavaVirtualMachines/jdk-11.0.25.jdk/Contents/Home"
export PATH=$PATH:$JAVA_HOME/bin

위와 같이 작성 후 닫기

1. echo $JAVA_HOME 작성 후 정상적으로 경로 출력되는지 확인
2. source ~/.zshrc명령어로 설정 적용
3. 이클립스 다운 후 Setting → preferences → Java →  installed JREs → jdk파일 선택 후 적용

## 파일 구조

- 바이트파일은 bin, 소스파일은 src에 저장된다
- 터미널에서 직접 소스파일을 컴파일하는법
    1. 이클립스에서 패키지, 클래스를 추가한 후 소스파일을 만든다 
    
    ```java
    public class Hello {
        public static void main(String[] args) {
            System.out.println("Hello, Java!");
        }
    }
    ```
    
    1. Hello.java라는 소스파일이 생성되며 해당 소스파일이 위치한 폴더로 이동한다
        1. 해당 폴더에서 Command+Option+C를 하면 경로 자동복사
    2. javac Hello.java(소스파일 이름)을 하면 컴파일되고 같은 폴더에 Hello.class라는 바이트코드 파일이 생성된다
    3. java Hello(컴파일된 클래스 이름)입력시 출력된다
    4. java -p  [바이트 코드 파일 저장 위치 (bin)] -m 모듈/패키지이름~클래스이름
        1. 모듈 이름은  [mod](http://module-info.java)ule test1 { } 일 때 test1이 모듈 이름
        2. 클래스 이름은 .class로 생성된 파일 이름
        3. java -p /Users/ljh/eclipse-workspace/test1/bin -m test1/test1.ex1.Hello
            1. 이와같이 bin위치를 절대경로로 작성하면 어느 위치에 있든 컴파일 된 바이트파일 실행 가능

## 의존성 모듈

- JDK 8이전 버전까지는 표준 API 전체가 제공, 11이후는 표준API를 모듈별로 쪼개서 제공함 기본적으로 java.base(최소한의 재료)모듈을 사용할 수 있지만, 다른 모듈에 있는 API를 사용하고 싶으면 모듈 기술자에 의존성 모듈로 등록해야 함

```java
module spaghetti {
    requires java.base;  // 기본 재료
    requires java.sql;   // 스파게티 면
    requires java.xml;   // 토마토 소스
}
스파게티란 모듈 기술자에 requires를 사용하여 의존성 모듈들을 등록하는 것
```

| **자바 용어** | **요리 비유** | **설명** |
| --- | --- | --- |
| **JDK** | 주방 | 요리를 위한 모든 환경. 재료와 도구가 포함되어 있음. |
| **표준 API** | 기본 제공되는 재료와 도구 | 소금, 물, 칼 등 기본적으로 제공되는 재료. 어떤 요리에서든 사용할 수 있음. |
| **모듈** | 특정 요리에 필요한 재료 세트 | 특정 요리에 따라 추가로 필요한 재료. (예: 스파게티 면, 토마토 소스 등) |
| **모듈 기술자** | 요리 레시피의 재료 목록 | 요리를 시작하기 전에 어떤 재료가 필요한지 기록하는 파일(`module-info.java`). |
| **`requires` 키워드** | 레시피에서 "필요한 재료" 명시 | 요리 레시피에 "토마토 소스", "스파게티 면" 등을 명시하는 것. |
| **`java.base`** | 기본 제공 재료 | 소금, 물 등 기본 재료는 별도로 요청하지 않아도 항상 포함됨. |

## 프로그램 소스

- Class는 field, method를 포함하는 블록

```java
public class Hello{
//Class 선언부
}
```

method는 어떤 일을 처리하는 실행문을 모아 놓은 블록

- 클래스 이름은 소스파일명과 동일해야하며 대소문자도 일치해야함
- 소스파일을 컴파일해서 생긴 ~.class는 바이트 코드 파일인데 보통 ~클래스 라고 부른다

```java
public static void main(method 이름)(String[] args) //method 선언 {
System.out.println("Hello") //method 블록

```

- java 명령어로 바이트 코드 파일을 실행하면 제일 먼저 main() method 내부 블록을 실행한다. 이 위치를 프로그램의 실행 진입점(entry point)라고 함

## Tip

- 여러 개의 자바 소스 파일을 한 번에 컴파일하려면 `javac *.java` 처럼 와일드카드를 사용한다.
- 소스 파일에서 패키지를 사용 중이라면, 소스 파일 구조와 디렉터리 구조가 일치해야 한다. 예: `package com.example;` 라면, `com/example` 폴더 안에 `.java` 파일이 있어야 한다.
- 모듈 시스템을 사용하지 않는 일반적인 단일/간단 프로젝트라면, `module-info.java` 없이도 위 과정을 그대로 진행한다.
- 소스파일 실행 시 확인되지 않은 개발자라는 팝업이 뜬다면 시스템 설정 → 개인정보 보호 및 보안 → JDK허용
- brew가 설치되어 있다면, brew install tree로 tree 설치 후 명령어로 tree 입력 시 현재 파일 구조를 트리구조로 볼 수 있다.
├── Hello.class
└── Hello.java